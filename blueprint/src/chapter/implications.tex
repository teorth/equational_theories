\chapter{Subgraph implications}

Interesting implications between the subgraph equations in Chapter \ref{subgraph-eq}. To reduce clutter, trivial or very easy implications will not be displayed here.

\begin{theorem}[387 implies 43]\label{387_implies_43}\uses{eq387,eq43}\lean{Subgraph.Equation387_implies_Equation43}\leanok  Definition \ref{eq387} implies Definition \ref{eq43}.
\end{theorem}

\begin{proof}\leanok (From \href{https://mathoverflow.net/a/450905/766}{MathOverflow}).
  By Definition \ref{eq387}, one has the law
\begin{equation}\label{387-again}
  (x \circ x) \circ y = y \circ x.
\end{equation}
Specializing to $y=x \circ x$, we conclude
$$(x \circ x) \circ (x \circ x) = (x \circ x) \circ x$$
and hence by another application of \eqref{eq387} we see that $x \circ x$ is idempotent:
\begin{equation}\label{idem}
  (x \circ x) \circ (x \circ x) = x \circ x.
\end{equation}
Now, replacing $x$ by $x \circ x$ in \eqref{387-again} and then using \eqref{idem} we see that
$$ (x \circ x) \circ y = y \circ (x \circ x)$$
so in particular $x \circ x$ commutes with $y \circ y$:
\begin{equation}\label{op-idem} (x \circ x) \circ (y \circ y) = (y \circ y) \circ (x \circ x).
\end{equation}
Also, from two applications of \eqref{387-again} one has
$$(x \circ x) \circ (y \circ y) = (y \circ y) \circ x = x \circ y.$$
Thus \eqref{op-idem} simplifies to $x \circ y = y \circ x$, which is Definition \ref{eq43}.
\end{proof}

\begin{theorem}[29 equivalent to 14]\label{29_equiv_14} \uses{eq29,eq14}\lean{Subgraph.Equation29_implies_Equation14}\leanok  Definition \ref{eq29} is equivalent to Definition \ref{eq14}.
\end{theorem}

This result was posed as Problem A1 from Putnam 2001.

\begin{proof}\leanok\uses{duality} By Lemma \ref{duality} it suffices to show that Definition \ref{eq29} implies Definition \ref{eq14}.  From Definition \ref{eq29} one has
  $$ x = ((x \circ y) \circ x) \circ (x \circ y)$$
  and also
  $$ y = (x \circ y) \circ x$$
  giving $x = y \circ (x \circ y)$, which is Definition \ref{eq14}.
\end{proof}

\begin{theorem}[14 implies 29]\label{14_implies_29} \uses{eq29,eq14}\lean{Subgraph.Equation14_implies_Equation29}\leanok  Definition \ref{eq14} implies Definition \ref{eq29}.
\end{theorem}

This result was posed as Problem A1 from Putnam 2001.

\begin{proof}\leanok
\end{proof}

% abbrev Equation381 (G: Type u) [Magma G] := ∀ x y z : G, x ∘ y = (x ∘ z) ∘ y
% abbrev Equation3744 (G : Type u) [Magma G] := ∀ x y z w : G, x ∘ y = (x ∘ z) ∘ (w ∘ y)

%theorem Equation3744_implies_Equation381 (G : Type*) [Magma G] (h: Equation3744 G) : Equation381 G :=
%fun x y z ↦ Eq.trans
%  (h x y z y) $ Eq.trans
%  (congrArg (fun a ↦ a ∘ (y ∘ y)) (h x z z x))
%  (Eq.symm $ h (x ∘ z) y (x ∘ z) y)
%/-- Putnam 1978, problem A4, part (a) -/

The following result was problem A4 on Putnam 1978.

\begin{theorem}[3744 implies 3722, 381]\label{3744_implies_3722_381}\uses{eq3744, eq3722, eq381} Definition \ref{eq3744} implies Definition \ref{eq3722} and Definition \ref{eq381}.
\end{theorem}

\begin{proof} By hypothesis, one has
$$x \circ y = (x \circ z) \circ (w \circ y)
  $$
for all $x,y,z,w$.  Various specializations of this give
\begin{align}
 x \circ y &= (x \circ z) \circ (y \circ y) \label{381-1} \\
 x \circ z &= (x \circ z) \circ (x \circ z) \label{381-2} \\
(x \circ z) \circ y &= ((x \circ z) \circ (x \circ z)) \circ (y \circ y) \label{381-3}.
\end{align}
The equation \eqref{381-2} gives Definition \ref{eq3722}, while \eqref{381-1}, \eqref{381-2}, \eqref{381-3} gives
$$ x \circ y = (x\circ z) \circ y$$
which is Definition \ref{eq381}.
\end{proof}

\begin{theorem}[1689 is equivalent to 2]\label{1689_equiv_2}\uses{eq1689, eq2} Definition \ref{eq1689} is equivalent to Definition \ref{eq2}.
\end{theorem}


\begin{proof}\leanok  The implication of Definition \ref{eq1689} from Definition \ref{eq2} is trivial.  The converse is a surprisingly long chain of implications; see pages 326--327 of \cite{Kisielewicz2}.

\end{proof}
