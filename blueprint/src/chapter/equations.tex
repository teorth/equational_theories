\chapter{Subgraph laws}\label{subgraph-eq}

In this project we study the 4694 laws (up to symmetry and relabeling) of total order at most $4$.

Selected laws of interest are listed below, as well as in \href{https://github.com/teorth/equational_theories/blob/main/equational_theories/Equations.lean}{this file}.  Laws in this list will be referred to as ``subgraph equations'', as we shall inspect the subgraph of the implication subgraph induced by these equations.

\begin{definition}[Equation 1]\label{eq1}\lean{Equation1}\leanok\uses{magma-def}  Equation 1 is the law $0 \formaleq 0$ (or the equation $x=x$).
\end{definition}

This is the trivial law, satisfied by all magmas. It is self-dual.


\begin{definition}[Equation 2]\label{eq2}\lean{Equation2}\leanok\uses{magma-def}  Equation 2 is the law $0 \formaleq 1$ (or the equation $x=y$).
\end{definition}

This is the singleton law, satisfied only by the empty and singleton magmas.  It is self-dual.

\begin{definition}[Equation 3]\label{eq3}\lean{Equation3}\leanok\uses{magma-def}  Equation 3 is the law $0 \formaleq 0 \circ 0$ (or the equation $x = x \circ x$).
\end{definition}

This is the idempotence law.  It is self-dual.

\begin{definition}[Equation 4]\label{eq4}\lean{Equation4}\leanok\uses{magma-def}  Equation 4 is the law $0 \formaleq 0 \circ 1$ (or the equation $x = x \circ y$).
\end{definition}

This is the left absorption law.

\begin{definition}[Equation 5]\label{eq5}\lean{Equation5}\leanok\uses{magma-def}  Equation 5 is the law $0 \formaleq 1 \circ 0$ (or the equation $x = y \circ x$).
\end{definition}

This is the right absorption law (the dual of Definition \ref{eq4}).

\begin{definition}[Equation 6]\label{eq6}\lean{Equation6}\leanok\uses{magma-def}  Equation 6 is the law $0 \formaleq 1 \circ 1$ (or the equation $x = y \circ y$).
\end{definition}

This law is equivalent to the singleton law.

\begin{definition}[Equation 7]\label{eq7}\lean{Equation7}\leanok\uses{magma-def}  Equation 7 is the law $0 \formaleq 1 \circ 2$ (or the equation $x = y \circ z$).
\end{definition}

This law is equivalent to the singleton law.

\begin{definition}[Equation 8]\label{eq8}\lean{Equation8}\leanok\uses{magma-def}  Equation 8 is the law $0 \formaleq 0 \circ (0 \circ 0)$ (or the equation $x = x \circ (x \circ x)$).
\end{definition}

\begin{definition}[Equation 14]\label{eq14}\lean{Equation14}\leanok\uses{magma-def}  Equation 14 is the law $0 \formaleq  1 \circ (0 \circ 1)$ (or the equation $x = y ∘ (x ∘ y))$.
\end{definition}

Appears in Problem A1 from Putnam 2001.


\begin{definition}[Equation 23]\label{eq23}\lean{Equation23}\leanok\uses{magma-def}  Equation 23 is the law $0 \formaleq  (0 \circ 0) \circ 0$ (or the equation $x = (x \circ x) \circ x$).
\end{definition}

This is the dual of Definition \ref{eq8}.

\begin{definition}[Equation 29]\label{eq29}\lean{Equation29}\leanok\uses{magma-def}  Equation 29 is the law $0 \formaleq  (1 \circ 0) \circ 1$ (or the equation $x = (y ∘ x) ∘ y)$.
\end{definition}

Appears in Problem A1 from Putnam 2001.  Dual to Definition \ref{eq14}.

\begin{definition}[Equation 38]\label{eq38}\lean{Equation38}\leanok\uses{magma-def}  Equation 38 is the law $0 \circ 0  \formaleq  0 \circ 1$ (or the equation $x \circ x = x \circ y$).
\end{definition}

This law asserts that the magma operation is independent of the second argument.

\begin{definition}[Equation 39]\label{eq39}\lean{Equation39}\leanok\uses{magma-def}  Equation 39 is the law $0 \circ 0  \formaleq  1 \circ 0$ (or the equation $x \circ x = y \circ x$).
\end{definition}

This law asserts that the magma operation is independent of the first argument (the dual of Definition \ref{eq38}).

\begin{definition}[Equation 40]\label{eq40}\lean{Equation40}\leanok\uses{magma-def}  Equation 40 is the law $0 \circ 0  \formaleq  1 \circ 1$ (or the equation $x \circ x = y \circ y$).
\end{definition}

This law asserts that all squares are constant. It is self-dual.

\begin{definition}[Equation 41]\label{eq41}\lean{Equation41}\leanok\uses{magma-def}  Equation 41 is the law $0 \circ 0  \formaleq  1 \circ 2$ (or the equation $x \circ x = y \circ z$).
\end{definition}

This law is equivalent to the constant law, Definition \ref{eq46}.

\begin{definition}[Equation 42]\label{eq42}\lean{Equation42}\leanok\uses{magma-def}  Equation 42 is the law $0 \circ 1  \formaleq  0 \circ 2$ (or the equation $x \circ y = x \circ z$).
\end{definition}

Equivalent to Definition \ref{eq38}.

\begin{definition}[Equation 43]\label{eq43}\lean{Equation43}\leanok\uses{magma-def}  Equation 43 is the law $0 \circ 1  \formaleq  1 \circ 0$ (or the equation $x \circ y = y \circ x$).
\end{definition}

The commutative law. It is self-dual.

\begin{definition}[Equation 45]\label{eq45}\lean{Equation45}\leanok\uses{magma-def}  Equation 45 is the law $0 \circ 1  \formaleq  2 \circ 1$ (or the equation $x \circ y = z \circ y$).
\end{definition}

This is the dual of Definition \ref{eq42}.

\begin{definition}[Equation 46]\label{eq46}\lean{Equation46}\leanok\uses{magma-def}  Equation 46 is the law $0 \circ 1  \formaleq  2 \circ 3$ (or the equation $x \circ y = z \circ w$).
\end{definition}

The constant law: all products are constant. It is self-dual.

\begin{definition}[Equation 168]\label{eq168}\lean{Equation168}\leanok\uses{magma-def}  Equation 168 is the law $0  \formaleq  (1 \circ 0) \circ (0 \circ 2)$ (or the equation $x = (y \circ x) \circ (x \circ z)$).
\end{definition}

The law of a central groupoid. It is self-dual.

\begin{definition}[Equation 381]\label{eq381}\lean{Equation381}\leanok\uses{magma-def}  Equation 381 is the law $0 \circ 1  \formaleq  (0 \circ 2) \circ 1$ (or the equation $x \circ y = (x \circ z) \circ y$).
\end{definition}

Appears in Putnam 1978, Problem A4, part (b).

\begin{definition}[Equation 387]\label{eq387}\lean{Equation387}\leanok\uses{magma-def}  Equation 387 is the law $0 \circ 1  \formaleq  (1 \circ 1) \circ 0$ (or the equation $x \circ y = (y \circ y) \circ x$).
\end{definition}

Introduced in \href{https://mathoverflow.net/a/450905/766}{MathOverflow}.

\begin{definition}[Equation 1689]\label{eq1689}\lean{Equation1689}\leanok\uses{magma-def}  Equation 1689 is the law $0 \formaleq  (1 \circ 0) \circ ((0 \circ 2) \circ 2)$ (or the equation $x = (y \circ x) \circ ((x \circ z) \circ z)$).
\end{definition}

Mentioned in \cite{Kisielewicz2}.

\begin{definition}[Equation 3722]\label{eq3722}\lean{Equation3722}\leanok\uses{magma-def}  Equation 3722 is the law $0 \circ 1  \formaleq  (0 \circ 1) \circ (0 \circ 1)$ (or the equation $x \circ y = (x \circ y) \circ (x \circ y)$).
\end{definition}

Appears in Putnam 1978, Problem A4, part (a).  It is self-dual.

\begin{definition}[Equation 3744]\label{eq3744}\lean{Equation3744}\leanok\uses{magma-def}  Equation 3744 is the law $0 \circ 1  \formaleq  (0 \circ 2) \circ (3 \circ 1)$ (or the equation $x \circ y = (x \circ z) \circ (w \circ y)$).
\end{definition}

This law is called a ``bypass operation'' in Putnam 1978, Problem A4. It is self-dual.

\begin{definition}[Equation 4512]\label{eq4512}\lean{Equation4512}\leanok\uses{magma-def}  Equation 4512 is the law $0 \circ (1 \circ 2)  \formaleq  (0 \circ 1) \circ 2$ (or the equation $x \circ (y \circ z) = (x \circ y) \circ z$).
\end{definition}

The associative law. It is self-dual.

\begin{definition}[Equation 4513]\label{eq4513}\lean{Equation4513}\leanok\uses{magma-def}  Equation 4513 is the law $0 \circ (1 \circ 2)  \formaleq  (0 \circ 1) \circ 3$ (or the equation $x \circ (y \circ z) = (x \circ y) \circ w$).
\end{definition}

\begin{definition}[Equation 4522]\label{eq4522}\lean{Equation4522}\leanok\uses{magma-def}  Equation 4522 is the law $0 \circ (1 \circ 2)  \formaleq  (0 \circ 3) \circ 4$ (or the equation $x \circ (y \circ z) = (x \circ w) \circ u$).
\end{definition}

Dual to Definition \ref{eq4579}.

\begin{definition}[Equation 4564]\label{eq4564}\lean{Equation4564}\leanok\uses{magma-def}  Equation 4564 is the law $0 \circ (1 \circ 2)  \formaleq  (3 \circ 1) \circ 2$ (or the equation $x \circ (y \circ z) = (w \circ y) \circ z$).
\end{definition}

Dual to Definition \ref{eq4513}.

\begin{definition}[Equation 4579]\label{eq4579}\lean{Equation4579}\leanok\uses{magma-def}  Equation 4579 is the law $0 \circ (1 \circ 2)  \formaleq  (3 \circ 4) \circ 2$ (or the equation $x \circ (y \circ z) = (w \circ u) \circ z$).
\end{definition}

Dual to Definition \ref{eq4522}.

\begin{definition}[Equation 4582]\label{eq4582}\lean{Equation4582}\leanok\uses{magma-def}  Equation 4582 is the law $0 \circ (1 \circ 2)  \formaleq  (3 \circ 4) \circ 5$ (or the equation $x \circ (y \circ z) = (w \circ u) \circ v$).
\end{definition}

This law asserts that all triple constants (regardless of bracketing) are constant.

We also note some selected laws of order more than $5$.


\begin{definition}[Equation 5105]
  \label{eq5105}\uses{magma-def}
  Equation 5105 is the law $0  \formaleq 1 \circ (1 \circ (1 \circ (0 \circ (2 \circ 1))))$ (or the equation $x = y \circ (y \circ (y \circ (x \circ (z \circ y))))$).
\end{definition}

This law of order $5$ was mentioned in \cite{Kisielewicz2}.

\begin{definition}[Equation 28393]
  \label{eq28393}\uses{magma-def}
  Equation 28393 is the law $0  \formaleq  (((0 \circ 0) \circ 0) \circ 1) \circ (0 \circ 2)$ (or the equation $x = (((x \circ x) \circ x) \circ y) \circ (x \circ z)$).
\end{definition}

\begin{definition}[Equation 374794]
  \lean{Equation374794}\leanok
  \label{eq374794}\uses{magma-def}
  Equation 374794 is the law $0  \formaleq  (((1 \circ 1) \circ 1) \circ 0) \circ ((1 \circ 1) \circ 2)$ (or the equation $x = (((y \circ y) \circ y) \circ x) \circ ((y \circ y) \circ z)$).
\end{definition}

This order $6$ law was introduced by Kisielewicz \cite{Kisielewicz}.


The singleton or empty magma obeys all equational laws.  One can ask whether an equational law admits nontrivial finite or infinite models.  An \emph{Austin law} is a law which admits infinite models, but no nontrivial finite models.  Austin \cite{austin} established the first such law, namely the order $9$ law
$$ (((1 \circ 1) \circ 1) \circ 0) \circ (((1 \circ 1) \circ ((1 \circ 1) \circ 1)) \circ 2) \formaleq 0.$$
A shorter Austin law of order $6$ was established in \cite{Kisielewicz}:

\begin{theorem}[Kisielewicz's first Austin law]
  \lean{InfModel.Finite.Equation374794_implies_Equation2,InfModel.Equation374794_not_implies_Equation2}\leanok
  \label{kis-thm}\uses{eq374794,eq2}
  Definition \ref{eq374794} is an Austin law.
\end{theorem}

\begin{proof} \leanok Suppose for contradiction that we have a non-trivial model of Definition \ref{eq374794}. Write $y^2 := y \circ y$ and $y^3 := y^2 \circ y$. For any $y,z$, introduce the functions $f_y: x \mapsto y^3 \circ x$ and $g_{yz}: x \mapsto x \circ (y^2 \circ z)$.  Definition \ref{eq374794} says that $g_{yz}$ is a left-inverse of $f_y$, hence by finiteness these are inverses and $g_{yz}$ is independent of $z$. In particular
$$ f(y^3) = g_{yy}(y^3) = g_{yz}(y^3) = f(y^2 \circ z)$$
and hence $y^2 \circ z$ is independent of $z$.  Thus
$$ f_y(x) = (y^2 \circ y) \circ x = (y^2 \circ y^2) \circ x$$
is independent of $x$.  As $f_y$ is invertible, this forces the magma to be trivial, a contradiction.

To construct an infinite magma, take the positive integers $\Z^+$ with the operation $x \circ y$ defined as
\begin{itemize}
  \item $2^x$ if $y=x$;
  \item $3^y$ if $x = 1 \neq y$;
  \item $\min(j,1)$ if $x=3^j$ and $y \neq x$; and
  \item $1$ otherwise.
\end{itemize}
Then $y^2 = 2^y$, $y^3 = 1$, and $y^2 \circ z$ a power of two for all $y, z$, and $(1 \circ x) \circ w = x$ for all $x$ whenever $w$ is a power of two, so Definition \ref{eq374794} is satisfied.
\end{proof}

An even shorter law (order $5$) was obtained by the same author in a followup paper \cite{Kisielewicz2}:

\begin{theorem}[Kisielewicz theoremII]\label{kis-thm2}\uses{eq2} Definition \ref{eq28393} is an Austin law.
\end{theorem}

\begin{proof} Using the $y^2$ and $y^3$ notation as before, the law reads
\begin{equation}\label{kis2-law}
   x = (y^3 \circ x) \circ (y \circ z).
  \end{equation}
In particular, for any $y$, the map $T_y \colon x \mapsto y^3 \circ x$ is injective, hence bijective in a finite model $G$.  In particular we can find a function $f : G \to G$ such that $T_y f(y) = y^3$ for all $y$  Applying \eqref{kis2-law} with $x = f(y)$, we conclude
$$ T_y(y \circ z) = y^3 \circ (y \circ z) = f(y) $$
and thus $y \circ z$ is independent of $z$ by injectivity of $T_y$.  Thus, the left-hand side of \eqref{kis2-law} does not depend on $x$, and so the model is trivial.  This shows there are no non-trivial finite models.

To establish an infinite model, use $\N$ with $x \circ y$ defined by requiring
$$ y \circ y = 2^y; \quad 2^y \circ y = 3^y$$
and
$$ 3^y \circ x = 3^y 5^x$$
for $x \neq 3^y$, and
$$ (3^y 5^x) \circ z = x$$
for $z \neq 3^y 5^x$.  Finally set
$$ 2^{3^y} \circ z = 3^y$$
for $z \neq 3^y, 2^{3^y}$.  All other assignments of $\circ$ may be made arbitrarily. It is then a routine matter to establish \eqref{kis2-law}.
\end{proof}

In that paper a computer search was also used to show that no law of order four or less is an Austin law.

An open question is whether Definition \ref{eq5105} is an Austin law.  In \cite{Kisielewicz2} it was shown that this law admits nontrivial finite models, but it is not yet known if it admits infinite models.
