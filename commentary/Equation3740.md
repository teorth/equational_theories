## A law related to Boolean groups

This law, dubbed [Stein's fourth law](https://arxiv.org/abs/1408.0991) or [transitivity](https://arxiv.org/abs/1601.01922), can be seen either as a weaker form of the [Boolean left multiplications law 3591](https://teorth.github.io/equational_theories/implications/?3591) or of the [bypass law 3744](https://teorth.github.io/equational_theories/implications/?3744).

This law is equivalent to the [associative law 4512](https://teorth.github.io/equational_theories/implications/?4512) together with a very weak commutativity law 900874, which in the associative case reduces to `xâ—‡yâ—‡zâ—‡w = xâ—‡zâ—‡yâ—‡w`.  It implies exactly the laws whose left-hand side and right-hand side have at least one operation each, have the same first variable and the same last variable, and such that each variable appear an even number of times in total.

The squaring map `S: x â†¦ xâ—‡x` is idempotent (namely `S(S(x))=S(x)`) so squares are precisely the idempotent elements.  For any fixed idempotent `0 = 0â—‡0` of the magma, left and right multiplication maps `x â†¦ 0â—‡x` and `x â†¦ xâ—‡0` are (idempotent) morphisms that project onto their images `0â—‡M` and `Mâ—‡0`.  These submagmas satisfy [law 765](https://teorth.github.io/equational_theories/implications/?765) and its dual, respectively, and their intersection is a Boolean group (abelian group of exponent 2).  Let `Q âŠ‚ (0â—‡M)Ã—(Mâ—‡0)` be the submagma consisting of pairs `(s,t)` such that `sâ—‡0 = 0â—‡t`.  Then the map `Ï†: x â†¦ (0â—‡x, xâ—‡0)` from `M` to `Q` is a morphism.  Its restriction to the set of products `P={xâ—‡y|x,yâˆˆM}` is a magma isomorphism from `P` to `Q`.  It appears that all magmas satisfying this law are submagmas of linear magmas satisfying it.

The free magma on some set `S` of generators for this law is `S âŠ” (S Ã— ğ’«(S) Ã— S)` where `ğ’«(S)` is the set of finite subsets of `S`, with the magma operation `sâ—‡u=(s,âˆ…,u)`, `sâ—‡(u,B,v) = (s,{u}âˆ†B,v)`, `(s,A,t)â—‡u=(s,Aâˆ†{t},u)`, `(s,A,t)â—‡(u,B,v)=(s,Aâˆ†{t}âˆ†{u}âˆ†B,v)` where `âˆ†` is the symmetric difference.
